---
title: 形式语言和自动机初步
categories: notes
tags: [编译原理,learning]
date: 2020-03-04 16:23:51
---

参考离散数学(清华大学出版社,第五版)相关内容

---

自动机是描述计算的数学模型,用来识别语言或计算函数. 形式文法也是一种数学模型,用来产生形式语言. 形式语言和自动机理论密切相关,是计算机科学和技术的重要理论基础.  

本文扼要地介绍形式文法的基本概念,有穷自动机和图灵机以及它们识别的语言类

## 形式语言和形式文法

形式语言的描述最早在1956年由语言学家乔姆斯基建立

在乔姆斯基的分类中,形式文法一共有如下几类:
* 0型文法: 现证明等价于图灵机(下同)
* 1型文法: 等价于非确定型线性界限自动机
* 2型文法: 等价于非确定型下推自动机
* 3型文法: 等价于有穷自动机

形式文法,特别是上下文无关文法(2型文法)和正则文法(3型文法)在程序设计语言和编译理论中起着重要的作用

### 字符串和形式语言

抽象而言,语言是按照一定规则排列的符号的集合

定义:

* 字母表$\Sigma$: 一个非空的有穷集合
* 字符串$\omega$: 由$\Sigma$中的符号组成的有穷序列,如$a_ia_j...a_k$; 特别地,$aaa...a$记作$a^n$
* $\vert \omega \vert$: 字符串$\omega$的长度, 空串$\epsilon$长度为0  


* 形式语言(语言): $\Sigma^\*$的任何子集称作字母表$\Sigma$上的形式语言, 其中,$\Sigma^\*$是$\Sigma$上字符串的全体  

> $\emptyset, \lbrace \epsilon \rbrace, \Sigma^\*$都是$\Sigma$上的语言. 注意,前两者是不同的

在字符串$\omega$中:
* 前缀: 由$\omega$左端若干个连续符号组成的字符串
* 后缀: 由$\omega$右端若干个连续符号组成的字符串
* 字串: 由$\omega$任何部位若干个连续符号组成的字符串
* 连接运算: $\omega_1\omega_2$表示把$\omega_2$接在$\omega_1$的右边, 显然,它是可结合的

### 形式文法

语言是由一定规则产生出来的,这种规则就是文法

例如,`9+5-2`这个字符串可由如下文法规则产生:

>1. 表达式->表达式+数字;  
>2. 表达式->表达式-数字;  
>3. 表达式->数字;
>4. 数字->2;  
>5. 数字->5;  
>6. 数字->9;

定义:
* 产生式: 文法中的每一条规则都叫做产生式
* 终结符: 不能产生其他字符串的符号, 如上述文法中的2,5,9
* 非终结符: 文法规则中除了终结符之外的其他符号,如`表达式`,`数字`,`+`,`-`

`9+5-2`的推理过程:
* 从`表达式`开始由2,1,3得到`数字+数字+数字`
* 由4,5,6可以得到`9+5-2`

当然,这组规则不仅仅只能推出`9+5-2`  

注意: 规则所推出的字符串在语义上不一定正确,但在形式上都是合法的

#### 形式文法的定义
一个形式文法是一个有序四元组$G=<V,T,S,P>$, 其中:
* $V$是一个非空有限集合,集合的元素称作变元或**非终结符**
* $T$是一个非空有限集合,$V\cap T=\emptyset$,集合中的元素称作**终结符**
* $S\in V$称作**起始符**
* $P$是一个非空有穷集合,它的元素称作**产生式**或改写规则
&emsp; $P$中元素应有这样的形式: a->b; 其中a,b$\in (V\cup T)^\*$, 且a$\ne \epsilon$

#### 派生,生成语言

直接派生:
* 给定文法$G=<V,T,S,P>$,设$x,y \in (V \cup T)^\*$. 称**$y$是$x$的直接派生($x\Rightarrow y$)**,当且仅当:  
> $\exists u,v \in (V \cup T)^\* $ 且 $ \exists$ 'a->b' $\in P$ 使得 $x = uav,y = ubv$ (即把x中的a改写成b后得到y)  

派生:
* 给定文法$G=<V,T,S,P>$,设$x_1,x_2,...,x_n \in (V \cup T)^\*, n \ge 1 且 x_1\Rightarrow x_2 \Rightarrow ... \Rightarrow x_n $, 则称**$x_n$是由$X_1$派生出来的($x_1 \dot \Rightarrow x_n$)**  
> 注意,对$V \cup T$上的所有字符串$\omega$有$\omega \dot \Rightarrow \omega$. 可见$\dot \Rightarrow$是$\Rightarrow$的自反传递闭包  

生成语言:  
* 设$G=<V,T,S,P>$是一个文法,$L(G)$是文法G**生成的语言**,则$L(G)$满足
$$ L(G) = \lbrace \omega \in T^\* | S \dot \Rightarrow \omega \rbrace $$   
> 根据定义,$L(G)$中的字符串满足如下两个条件:
> 1. 字符串由终结符构成
> 2. 字符串可以由起始符派生出来

文法的等价
* 如果$L(G_1) = L(G_2)$,则称文法$G_1$和$G_2$**等价**

### 形式文法分类

#### 0型文法: 无限制文法
0型文法就是一般形式的文法,在形式文法定义的基础上不附加任何条件  

一个0型文法是一个有序四元组$G=<V,T,S,P>$, 其中:
* $V$是非终结符集合,非空有限
* $T$是终结符集合,非空有限,$V\cap T=\emptyset$
* $S\in V$是**起始符**
* $P$是产生式集合,非空有限

0型文法又称作短语结构文法或无限制文法,0型文法生成的语言称作0型语言

#### 1型文法: 上下文有关文法
1型文法在0型文法上加了一条限制: 对P中每一个产生式a->b都有$\vert a \vert \ge \vert b \vert$  

一个1型文法是一个有序四元组$G=<V,T,S,P>$, 其中:
* $V$是非终结符集合,非空有限
* $T$是终结符集合,非空有限,$V\cap T=\emptyset$
* $S\in V$是**起始符**
* $P$是产生式集合,非空有限
> $P$中元素应有这样的形式: 对P中任意一个产生式a->b都有$\vert a \vert \ge \vert b \vert$  

每一个1型文法都等价于这样一个文法(证明略),它的产生式形如  
$$ uAv \to u \alpha v $$  
> 这里$ A \in V, u,v \in (V \cup T)^\* ,\alpha \ne \epsilon$  

也就是说,在这种文法中,替换变元时必须考虑它的上下文,才能把$A$换成$\alpha$  

因此,1型文法又叫做上下文有关文法,若$L-\lbrace \epsilon \rbrace$可由1型文法生成,则L称作1型语言或上下文有关语言(1型文法本身不能生成$\epsilon$)

#### 2型文法: 上下文无关文法
2型文法在1型文法的基础上又做了一些限制(令上文中的$u,v = \epsilon$)

一个2型文法是一个有序四元组$G=<V,T,S,P>$, 其中:
* $V$是非终结符集合,非空有限
* $T$是终结符集合,非空有限,$V\cap T=\emptyset$
* $S\in V$是**起始符**
* $P$是产生式集合,非空有限
> $P$中元素应有这样的形式: $ A \to \alpha $; 其中$A \in V, \alpha \in (V\cup T)^\*$ _(0型文法是$A \in (V\cup T)^\*$)_  

此时,在这种文法中,替换变元时不需要考虑它的上下文

因此,2型文法又称作上下文无关文法,2型文法生成的语言称作2型语言或上下文无关语言

#### 3型文法: 正则文法
3型文法在2型文法的基础上做了更多的限制,其分为右线性文法和左线性文法

一个**右线性文法**是一个有序四元组$G=<V,T,S,P>$, 其中:
* $V$是非终结符集合,非空有限
* $T$是终结符集合,非空有限,$V\cap T=\emptyset$
* $S\in V$是**起始符**
* $P$是产生式集合,非空有限
> $P$中元素应有这样的形式: $ A \to \alpha B $或$ A \to \alpha $; 其中$A,B \in V, \alpha \in T^\*$ _(注意符号所属范围)_

一个**左线性文法**是一个有序四元组$G=<V,T,S,P>$, 其中:
* $V$是非终结符集合,非空有限
* $T$是终结符集合,非空有限,$V\cap T=\emptyset$
* $S\in V$是**起始符**
* $P$是产生式集合,非空有限
> $P$中元素应有这样的形式: $ A \to B \alpha $或$ A \to \alpha $; 其中$A,B \in V, \alpha \in T^\*$  

右线性文法和左线性文法统称做3型文法或正则文法,3型文法生成的语言称作3型语言或正则语言  

可以证明的是,每一个右线性文法都存在与之等价的左线性文法,反之亦然; 即每一个正则语言都可以同时用右线性文法和左线性文法生成

#### 几种形式文法生成的语言类之间的关系
这几种语言类之间存在着真包含关系
* 正则语言是上下文无关语言
* 上下文无关语言是上下文有关语言
* 上下文有关语言是0型语言

在编译原理中,词法分析可以用正则文法解决,而语法分析使用上下文无关文法

注: 在正则文法和上下文无关文法中,当同一个符号作为多个产生式的左端时,可以用"或"`|`来合在一起写

## 有穷自动机
有穷自动机是具有离散输入和输出系统的一种数学模型,它有有限个内部状态.随着信号的输入,内部状态不断地转移

---
未完结,持续更新


